<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="KnolageTests.Pages.TestRunPage"
             Title="����">

    <Grid Padding="12" RowSpacing="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <VerticalStackLayout Grid.Row="0" Spacing="4">
            <Label x:Name="TitleLabel" FontSize="20" FontAttributes="Bold" LineBreakMode="WordWrap"/>
            <Label x:Name="DescriptionLabel" FontSize="14" TextColor="Gray" LineBreakMode="WordWrap"/>
        </VerticalStackLayout>

        <CollectionView x:Name="QuestionsCollection"
                        Grid.Row="1"
                        ItemsLayout="VerticalList"
                        SelectionMode="None"
                        VerticalOptions="FillAndExpand">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame CornerRadius="6" Padding="10" Margin="0,6" HasShadow="True">
                        <VerticalStackLayout Spacing="8">
                            <Label Text="{Binding Text}" FontAttributes="Bold" LineBreakMode="WordWrap" />

                            <VerticalStackLayout Spacing="6" BindableLayout.ItemsSource="{Binding Options}">
                                <BindableLayout.ItemTemplate>
                                    <DataTemplate>
                                        <HorizontalStackLayout Spacing="8" VerticalOptions="Center">
                                            <CheckBox CheckedChanged="OnOptionCheckedChanged" />
                                            <Label Text="{Binding Text}" LineBreakMode="WordWrap" VerticalOptions="Center"/>
                                        </HorizontalStackLayout>
                                    </DataTemplate>
                                </BindableLayout.ItemTemplate>
                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>

            <CollectionView.EmptyView>
                <Label Text="�������� ���" HorizontalOptions="Center" VerticalOptions="Center" TextColor="Gray"/>
            </CollectionView.EmptyView>
        </CollectionView>

        <Button Grid.Row="2"
                x:Name="CheckResultButton"
                Text="Check result"
                BackgroundColor="#2196F3"
                TextColor="White"
                Clicked="OnCheckResultClicked"
                HorizontalOptions="Fill" />
    </Grid>
</ContentPage>